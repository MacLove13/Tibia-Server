{"version":3,"file":"index.js","sourceRoot":"/","sources":["game/state/character/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { Mob } from '@game/mob';\nimport { Player } from '@game/player';\nimport { Character } from '@game/character/interface';\nimport { DataSync } from '@game/character/dataSync';\n\nexport class CharacterList {\n  private moblist = new Array<Mob>();\n  private plrlist = new Array<Player>();\n\n  AddNewPlayer(plr: Player) {\n    this.plrlist.push(plr);\n  }\n\n  AddNewMob(mob: Mob) {\n    this.moblist.push(mob);\n  }\n\n  GetAllSyncData(): Array<DataSync> {\n    var result: any[] = [];\n    this.moblist.forEach((val) => {\n        result.push(val.GetJSON());\n    });\n\n    this.plrlist.forEach((val) => {\n        result.push(val.GetJSON());\n    });\n\n    return result;\n  }\n\n  ForEach(callback: (plr: Character) => void) {\n    this.ForEachMob(callback);\n    this.ForEachPlayer(callback);\n  }\n\n  ForEachMob(callback: (plr: Mob) => void) {\n    for (var i = 0; i < this.moblist.length; i++) {\n      callback(this.moblist[i])\n    }\n  }\n\n  ForEachPlayer(callback: (plr: Player) => void) {\n    for (var i = 0; i < this.plrlist.length; i++) {\n      callback(this.plrlist[i])\n    }\n  }\n\n  GetByID(ID: string): Character | Player | Mob | null {\n    for (var i = 0; i < this.moblist.length; i++) {\n      if (this.moblist[i].GetID() === ID) {\n        return this.moblist[i];\n      }\n    }\n\n    for (var i = 0; i < this.plrlist.length; i++) {\n      if (this.plrlist[i].GetID() === ID) {\n        return this.plrlist[i];\n      }\n    }\n\n    return null;\n  }\n\n  RemoveByID(ID: string): Character | Player | Mob | null {\n    var tmpChar;\n    for (var i = 0; i < this.moblist.length; i++) {\n      if (this.moblist[i].GetID() === ID) {\n        tmpChar = this.moblist[i];\n        this.moblist.splice(i, 1);\n        return tmpChar;\n      }\n    }\n\n    for (var i = 0; i < this.plrlist.length; i++) {\n      if (this.plrlist[i].GetID() === ID) {\n        tmpChar = this.plrlist[i];\n        this.plrlist.splice(i, 1);\n        return tmpChar;\n      }\n    }\n\n    return null;\n  }\n\n  GetMobCount() {\n    return this.moblist.length;\n  }\n}\n"]}