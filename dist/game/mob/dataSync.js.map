{"version":3,"file":"dataSync.js","sourceRoot":"/","sources":["game/mob/dataSync.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uDAAyC;AAOzC,MAAa,WAAW;IAgBpB,MAAM;QACF,OAAO;YACH,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,EAAE,EAAE,IAAI,CAAC,EAAE;YACX,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,EAAE,EAAE,IAAI,CAAC,EAAE;YACX,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,OAAO,EAAE,IAAI,CAAC,OAAO;SACxB,CAAC;IACN,CAAC;IAED,YAAY,IAAa;QACrB,IAAI,CAAC,EAAE,GAAG,WAAW,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QACxC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAEzD,MAAM,SAAS,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAA0C,CAAC,CAAC;QACzF,IAAI,SAAS,EAAE;YACX,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC7B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,UAAU,CAAC;YACtC,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE,CAAC;YAC1B,IAAI,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;SAC1B;QACD,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QAEjB,WAAW,CAAC,MAAM,EAAE,CAAC;IACzB,CAAC;;AA/CL,kCAkDC;AADkB,kBAAM,GAAG,CAAC,CAAC","sourcesContent":["import * as GameState from '@game/state';\nimport { Vector2D } from '@utils/interface';\n\ntype MobsConfig = {\n  [key: string]: { AliveSprites: number[]; DeadSprites: number[]; Experience: number; HP: number, Speed: number; };\n};\n\nexport class mobDataSync {\n    Position: Vector2D;\n    Name: string;\n    Race: string;\n    ID: string;\n    UUID: string;\n    HP: number;\n    MaxHP: number;\n    Speed: number;\n    MaxExp: number;\n    Level: number;\n    CurrentExp: number;\n    ExpAtDead: number;\n    Attack: number;\n    InLayer: number;\n\n    toJSON() {\n        return {\n            Position: this.Position,\n            Speed: this.Speed,\n            HP: this.HP,\n            MaxHP: this.MaxHP,\n            Race: this.Race,\n            ID: this.ID,\n            MaxExp: this.MaxExp,\n            Level: this.Level,\n            Attack: this.Attack,\n            InLayer: this.InLayer,\n        };\n    }\n\n    constructor(race : string) {\n        this.ID = mobDataSync.lastID.toString();\n        this.Race = race;\n        this.MaxExp = GameState.config.Player.LvlExp[this.Level];\n\n        const mobConfig = GameState.config.Mobs[this.Race as keyof typeof GameState.config.Mobs];\n        if (mobConfig) {\n            this.Speed = mobConfig.Speed;\n            this.ExpAtDead = mobConfig.Experience;\n            this.MaxHP = mobConfig.HP;\n            this.HP = mobConfig.HP;\n        }\n        this.Attack = 0;\n        this.InLayer = 0;\n\n        mobDataSync.lastID++;\n    }\n\n    private static lastID = 0;\n}\n"]}