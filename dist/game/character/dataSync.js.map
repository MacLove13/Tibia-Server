{"version":3,"file":"dataSync.js","sourceRoot":"/","sources":["game/character/dataSync.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uDAAyC;AAEzC,MAAa,QAAQ;IA6BjB,MAAM;QACF,OAAO;YACH,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,EAAE,EAAE,IAAI,CAAC,EAAE;YACX,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,EAAE,EAAE,IAAI,CAAC,EAAE;YACX,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,UAAU,EAAE,IAAI,CAAC,UAAU;YAC3B,OAAO,EAAE,IAAI,CAAC,OAAO;SACxB,CAAC;IACN,CAAC;IAED,YAAY,IAAa,EAAE,MAAc;QA7CzC,aAAQ,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;QAU5B,UAAK,GAAG,CAAC,CAAC;QACV,eAAU,GAAG,CAAC,CAAC;QACf,cAAS,GAAG,CAAC,CAAC;QACd,WAAM,GAAG,CAAC,CAAC;QACX,eAAU,GAAG;YACT,MAAM,EAAE,IAAI;YACZ,MAAM,EAAE,IAAI;YACZ,GAAG,EAAE,IAAI;YACT,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,IAAI;YACf,KAAK,EAAE,IAAI;YACX,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;SACb,CAAC;QAqBE,IAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QACrC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,UAAU,GAAG;YACd,MAAM,EAAE,IAAI;YACZ,MAAM,EAAE,IAAI;YACZ,GAAG,EAAE,IAAI;YACT,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,IAAI;YACf,KAAK,EAAE,IAAI;YACX,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;SACb,CAAC;QACF,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAEzD,MAAM,SAAS,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAA0C,CAAC,CAAC;QACzF,IAAI,SAAS,EAAE;YACX,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC7B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,UAAU,CAAC;YACtC,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE,CAAC;YAC1B,IAAI,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;SAC1B;QACD,QAAQ,CAAC,MAAM,EAAE,CAAC;IACtB,CAAC;;AA1EL,4BA6EC;AADkB,eAAM,GAAG,CAAC,AAAJ,CAAK","sourcesContent":["import * as GameState from '@game/state';\n\nexport class DataSync {\n    Position = { x: 60, y: 50 };\n    Name: string;\n    Race: string;\n    UClass: string;\n    ID: string;\n    UUID: string;\n    HP: number;\n    MaxHP: number;\n    Speed: number;\n    MaxExp: number;\n    Level = 5;\n    CurrentExp = 0;\n    ExpAtDead = 0;\n    Attack = 0;\n    equipments = {\n        helmet: null,\n        amulet: null,\n        bag: null,\n        leftHand: null,\n        rightHand: null,\n        armor: null,\n        legs: null,\n        boot: null,\n        ring: null,\n        ammo: null,\n    };\n    InLayer: 0;\n\n    toJSON() {\n        return {\n            Position: this.Position,\n            Speed: this.Speed,\n            HP: this.HP,\n            MaxHP: this.MaxHP,\n            Race: this.Race,\n            UClass: this.UClass,\n            ID: this.ID,\n            MaxExp: this.MaxExp,\n            Level: this.Level,\n            Attack: this.Attack,\n            equipments: this.equipments,\n            InLayer: this.InLayer\n        };\n    }\n\n    constructor(race : string, uClass: string) {\n        this.ID = DataSync.lastID.toString();\n        this.Race = race;\n        this.UClass = uClass;\n        this.Attack = 0;\n        this.equipments = {\n            helmet: null,\n            amulet: null,\n            bag: null,\n            leftHand: null,\n            rightHand: null,\n            armor: null,\n            legs: null,\n            boot: null,\n            ring: null,\n            ammo: null,\n        };\n        this.InLayer = 0;\n        this.MaxExp = GameState.config.Player.LvlExp[this.Level];\n\n        const mobConfig = GameState.config.Mobs[this.Race as keyof typeof GameState.config.Mobs];\n        if (mobConfig) {\n            this.Speed = mobConfig.Speed;\n            this.ExpAtDead = mobConfig.Experience;\n            this.MaxHP = mobConfig.HP;\n            this.HP = mobConfig.HP;\n        }\n        DataSync.lastID++;\n    }\n\n    private static lastID = 0;\n}\n\n"]}